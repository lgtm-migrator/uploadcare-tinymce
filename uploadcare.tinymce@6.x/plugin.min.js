!function(){"use strict";var e,a={integration:(e=tinymce.majorVersion+"."+tinymce.minorVersion,"TinyMCE/{tinymceVersion}; Uploadcare-TinyMCE/{pluginVerion}".replace("{tinymceVersion}",e).replace("{pluginVerion}","4.0.2")),crop:""};tinymce.PluginManager.add("uploadcare",function(o){window.uploadcare||(tinymce.ScriptLoader.add("https://ucarecdn.com/widget/3.x/uploadcare/uploadcare.full.min.js"),tinymce.ScriptLoader.loadQueue()),o.options.register("uploadcare",{processor:"object",default:{}});var r=Object.assign({},a,o.options.get("uploadcare"));return o.ui.registry.addIcon("uploadcare",'\n<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 80 80">\n  <path fill="#FFD800" fill-rule="evenodd" d="M32,64 C14.326888,64 0,49.673112 0,32 C0,14.326888 14.326888,0 32,0 C49.673112,0 64,14.326888 64,32 C64,49.673112 49.673112,64 32,64 Z M32,34.7654321 C33.527306,34.7654321 34.7654321,33.527306 34.7654321,32 C34.7654321,30.472694 33.527306,29.2345679 32,29.2345679 C30.472694,29.2345679 29.2345679,30.472694 29.2345679,32 C29.2345679,33.527306 30.472694,34.7654321 32,34.7654321 Z" transform="translate(8 8)"/>\n</svg>\n'),o.ui.registry.addButton("uploadcare",{text:"Insert media",tooltip:"Insert media",onAction:function(){var e=r.cdnBase||uploadcare.defaults.cdnBase,a=null,n=o.selection.getNode();"IMG"===n.nodeName&&0===n.src.indexOf(e)&&(a=uploadcare.fileFrom("uploaded",n.src,r)),"A"===n.nodeName&&0===n.href.indexOf(e)&&(a=uploadcare.fileFrom("uploaded",n.href,r)),uploadcare.openDialog(a,r).done(function(e){e.done(function(e){e.isImage?o.selection.setNode(tinymce.activeEditor.dom.create("img",{src:e.cdnUrl})):"A"===n.nodeName?n.parentNode.replaceChild(tinymce.activeEditor.dom.create("a",{href:e.cdnUrl},e.name),n):o.selection.setNode(tinymce.activeEditor.dom.create("a",{href:e.cdnUrl},e.name))})})},icon:"uploadcare"}),{getMetadata:function(){return{name:"Uploadcare Plugin",url:"https://github.com/uploadcare/uploadcare-tinymce/",version:"4.0.2"}}}})}();
