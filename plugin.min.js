!function(){"use strict";var e,n={integration:(e=tinyMCE.majorVersion+"."+tinyMCE.minorVersion,"TinyMCE/{tinymceVersion}; Uploadcare-TinyMCE/{pluginVerion}".replace("{tinymceVersion}",e).replace("{pluginVerion}","3.0.0")),crop:""};tinymce.create("tinymce.plugins.UploadcarePlugin",{init:function(e,a){tinymce.ScriptLoader.add("https://ucarecdn.com/widget/3.x/uploadcare/uploadcare.full.min.js"),tinymce.ScriptLoader.loadQueue();var r=Object.keys(e.settings).filter(function(e){return-1!==e.search("^uploadcare_")}).reduce(function(n,a){return n[a.replace("uploadcare_","").replace(/(_[a-z])/g,function(e){return e.toUpperCase()}).replace("_","")]=e.settings[a],n},n);e.addButton("uploadcare",{title:"Uploadcare",cmd:"showUploadcareDialog",image:a+"/icons/uploadcare.png",stateSelector:"img"}),e.addCommand("showUploadcareDialog",function(){uploadcare.openDialog(null,r).done(function(n){n.done(function(n){n.isImage?e.execCommand("mceInsertContent",!1,'<img src="'+n.cdnUrl+'" />'):e.execCommand("mceInsertContent",!1,'<a href="'+n.cdnUrl+'">'+n.name+"</a>")})})})},createControl:function(){return null},getInfo:function(){return{longname:"Uploadcare",author:"Uploadcare",authorurl:"https://uploadcare.com/",infourl:"https://github.com/uploadcare/uploadcare-tinymce",version:"3.0.0"}}}),tinymce.PluginManager.add("uploadcare",tinymce.plugins.UploadcarePlugin)}();
