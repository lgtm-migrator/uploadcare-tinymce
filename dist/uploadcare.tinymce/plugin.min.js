!function(){"use strict";var e,a={integration:(e=tinyMCE.majorVersion+"."+tinyMCE.minorVersion,"TinyMCE/{tinymceVersion}; Uploadcare-TinyMCE/{pluginVerion}".replace("{tinymceVersion}",e).replace("{pluginVerion}","3.1.1")),crop:""};tinymce.create("tinymce.plugins.UploadcarePlugin",{init:function(r,e){tinymce.ScriptLoader.add("https://ucarecdn.com/widget/3.x/uploadcare/uploadcare.full.min.js"),tinymce.ScriptLoader.loadQueue();var o=Object.keys(r.settings).filter(function(e){return-1!==e.search("^uploadcare_")}).reduce(function(e,a){return e[a.replace("uploadcare_","").replace(/(_[a-z])/g,function(e){return e.toUpperCase()}).replace("_","")]=r.settings[a],e},a);r.addButton("uploadcare",{title:"Insert media",cmd:"showUploadcareDialog",image:e+"/icons/uploadcare.png",stateSelector:"img"}),r.addCommand("showUploadcareDialog",function(){var e=o.cdnBase||uploadcare.defaults.cdnBase,a=null,n=r.selection.getNode();"IMG"===n.nodeName&&0===n.src.indexOf(e)&&(a=uploadcare.fileFrom("uploaded",n.src,o)),"A"===n.nodeName&&0===n.href.indexOf(e)&&(a=uploadcare.fileFrom("uploaded",n.href,o)),uploadcare.openDialog(a,o).done(function(e){e.done(function(e){e.isImage?r.selection.setNode(tinymce.activeEditor.dom.create("img",{src:e.cdnUrl})):"A"===n.nodeName?n.parentNode.replaceChild(tinymce.activeEditor.dom.create("a",{href:e.cdnUrl},e.name),n):r.selection.setNode(tinymce.activeEditor.dom.create("a",{href:e.cdnUrl},e.name))})})})},createControl:function(){return null},getInfo:function(){return{longname:"Uploadcare",author:"Uploadcare",authorurl:"https://uploadcare.com/",infourl:"https://github.com/uploadcare/uploadcare-tinymce",version:"3.1.1"}}}),tinymce.PluginManager.add("uploadcare",tinymce.plugins.UploadcarePlugin)}();
